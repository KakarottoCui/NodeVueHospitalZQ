import{v as e,x as a,R as t,as as i,b1 as l,U as n,d as o,aI as s,y as c,z as r,r as u,av as v,a1 as d,b2 as p,N as f,o as m,c as y,e as b,a as h,n as g,bf as k,h as x,w as I,A as C,E as V,B as S,t as w,g as T,be as B,a3 as _,a4 as N,_ as j,a2 as E,bt as P,aw as U,D as z}from"./index-ab69a018.js";import{i as A}from"./validator-1449e5a2.js";import{U as K,C as D,I as F}from"./event-5568c9d8.js";import{u as R,a as Y}from"./use-form-item-da890dc1.js";import{u as Z,a as q}from"./use-form-common-props-5bbac68f.js";import{u as G}from"./el-button-5f0a8970.js";const H=e({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:a},inactiveIcon:{type:a},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:t(Function)},size:{type:String,validator:A},tabindex:{type:[String,Number]}}),J={[K]:e=>i(e)||l(e)||n(e),[D]:e=>i(e)||l(e)||n(e),[F]:e=>i(e)||l(e)||n(e)},L=["onClick"],M=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],O=["aria-hidden"],Q=["aria-hidden"],W=["aria-hidden"],X="ElSwitch",$=o({name:X});const ee=z(j(o({...$,props:H,emits:J,setup(e,{expose:a,emit:t}){const l=e,n=s(),{formItem:o}=R(),j=Z(),z=c("switch");G({from:'"value"',replacement:'"model-value" or "v-model"',scope:X,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},r((()=>{var e;return!!(null==(e=n.vnode.props)?void 0:e.value)})));const{inputId:A}=Y(l,{formItemContext:o}),H=q(r((()=>l.loading))),J=u(!1!==l.modelValue),$=u(),ee=u(),ae=r((()=>[z.b(),z.m(j.value),z.is("disabled",H.value),z.is("checked",le.value)])),te=r((()=>({width:v(l.width)})));d((()=>l.modelValue),(()=>{J.value=!0})),d((()=>l.value),(()=>{J.value=!1}));const ie=r((()=>J.value?l.modelValue:l.value)),le=r((()=>ie.value===l.activeValue));[l.activeValue,l.inactiveValue].includes(ie.value)||(t(K,l.inactiveValue),t(D,l.inactiveValue),t(F,l.inactiveValue)),d(le,(e=>{var a;$.value.checked=e,l.validateEvent&&(null==(a=null==o?void 0:o.validate)||a.call(o,"change").catch((e=>p())))}));const ne=()=>{const e=le.value?l.inactiveValue:l.activeValue;t(K,e),t(D,e),t(F,e),E((()=>{$.value.checked=le.value}))},oe=()=>{if(H.value)return;const{beforeChange:e}=l;if(!e)return void ne();const a=e();[P(a),i(a)].includes(!0)||U(X,"beforeChange must return type `Promise<boolean>` or `boolean`"),P(a)?a.then((e=>{e&&ne()})).catch((e=>{})):a&&ne()},se=r((()=>z.cssVarBlock({...l.activeColor?{"on-color":l.activeColor}:null,...l.inactiveColor?{"off-color":l.inactiveColor}:null,...l.borderColor?{"border-color":l.borderColor}:null})));return f((()=>{$.value.checked=le.value})),a({focus:()=>{var e,a;null==(a=null==(e=$.value)?void 0:e.focus)||a.call(e)},checked:le}),(e,a)=>(m(),y("div",{class:g(h(ae)),style:_(h(se)),onClick:N(oe,["prevent"])},[b("input",{id:h(A),ref_key:"input",ref:$,class:g(h(z).e("input")),type:"checkbox",role:"switch","aria-checked":h(le),"aria-disabled":h(H),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:h(H),tabindex:e.tabindex,onChange:ne,onKeydown:k(oe,["enter"])},null,42,M),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?S("v-if",!0):(m(),y("span",{key:0,class:g([h(z).e("label"),h(z).em("label","left"),h(z).is("active",!h(le))])},[e.inactiveIcon?(m(),x(h(V),{key:0},{default:I((()=>[(m(),x(C(e.inactiveIcon)))])),_:1})):S("v-if",!0),!e.inactiveIcon&&e.inactiveText?(m(),y("span",{key:1,"aria-hidden":h(le)},w(e.inactiveText),9,O)):S("v-if",!0)],2)),b("span",{ref_key:"core",ref:ee,class:g(h(z).e("core")),style:_(h(te))},[e.inlinePrompt?(m(),y("div",{key:0,class:g(h(z).e("inner"))},[e.activeIcon||e.inactiveIcon?(m(),x(h(V),{key:0,class:g(h(z).is("icon"))},{default:I((()=>[(m(),x(C(h(le)?e.activeIcon:e.inactiveIcon)))])),_:1},8,["class"])):e.activeText||e.inactiveText?(m(),y("span",{key:1,class:g(h(z).is("text")),"aria-hidden":!h(le)},w(h(le)?e.activeText:e.inactiveText),11,Q)):S("v-if",!0)],2)):S("v-if",!0),b("div",{class:g(h(z).e("action"))},[e.loading?(m(),x(h(V),{key:0,class:g(h(z).is("loading"))},{default:I((()=>[T(h(B))])),_:1},8,["class"])):S("v-if",!0)],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?S("v-if",!0):(m(),y("span",{key:1,class:g([h(z).e("label"),h(z).em("label","right"),h(z).is("active",h(le))])},[e.activeIcon?(m(),x(h(V),{key:0},{default:I((()=>[(m(),x(C(e.activeIcon)))])),_:1})):S("v-if",!0),!e.activeIcon&&e.activeText?(m(),y("span",{key:1,"aria-hidden":!h(le)},w(e.activeText),9,W)):S("v-if",!0)],2))],14,L))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]));export{ee as E};
