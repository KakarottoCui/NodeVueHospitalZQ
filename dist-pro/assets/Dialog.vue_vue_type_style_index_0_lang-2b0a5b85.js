import{d as e,Y as s,aB as o,z as a,o as l,c as t,e as n,C as r,n as i,a as c,t as d,g as u,w as f,h as m,A as p,E as g,B as b,a3 as v,_ as y,cT as h,b7 as C,y as k,r as x,aA as $,ac as _,aj as R,aK as A,ad as w,i as F,ae as I,D as j,ai as H,cq as E,a1 as z,J as M,bc as D,K as L,aG as T,a2 as B}from"./index-ab69a018.js";import{u as S,E as q,b as K}from"./el-overlay-1d787c8f.js";import{d as O,a as P,b as U,c as V,u as G}from"./use-dialog-d8729880.js";import{F as J,e as N}from"./el-popper-2ba03ef0.js";import{c as Y}from"./refs-40b42824.js";import{u as Q}from"./el-button-5f0a8970.js";const W=Symbol("dialogInjectionKey"),X=["aria-label"],Z=["id"],ee=e({name:"ElDialogContent"});var se=y(e({...ee,props:O,emits:P,setup(e){const y=e,{t:C}=s(),{Close:k}=h,{dialogRef:x,headerRef:$,bodyId:_,ns:R,style:A}=o(W),{focusTrapRef:w}=o(J),F=Y(w,x),I=a((()=>y.draggable));return S(x,$,I),(e,s)=>(l(),t("div",{ref:c(F),class:i([c(R).b(),c(R).is("fullscreen",e.fullscreen),c(R).is("draggable",c(I)),c(R).is("align-center",e.alignCenter),{[c(R).m("center")]:e.center},e.customClass]),style:v(c(A)),tabindex:"-1"},[n("header",{ref_key:"headerRef",ref:$,class:i(c(R).e("header"))},[r(e.$slots,"header",{},(()=>[n("span",{role:"heading",class:i(c(R).e("title"))},d(e.title),3)])),e.showClose?(l(),t("button",{key:0,"aria-label":c(C)("el.dialog.close"),class:i(c(R).e("headerbtn")),type:"button",onClick:s[0]||(s[0]=s=>e.$emit("close"))},[u(c(g),{class:i(c(R).e("close"))},{default:f((()=>[(l(),m(p(e.closeIcon||c(k))))])),_:1},8,["class"])],10,X)):b("v-if",!0)],2),n("div",{id:c(_),class:i(c(R).e("body"))},[r(e.$slots,"default")],10,Z),e.$slots.footer?(l(),t("footer",{key:0,class:i(c(R).e("footer"))},[r(e.$slots,"footer")],2)):b("v-if",!0)],6))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const oe=["aria-label","aria-labelledby","aria-describedby"],ae=e({name:"ElDialog",inheritAttrs:!1});const le=j(y(e({...ae,props:U,emits:V,setup(e,{expose:s}){const o=e,t=C();Q({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},a((()=>!!t.title))),Q({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},a((()=>!!o.customClass)));const d=k("dialog"),p=x(),g=x(),y=x(),{visible:h,titleId:j,bodyId:H,style:E,overlayDialogStyle:z,rendered:M,zIndex:D,afterEnter:L,afterLeave:T,beforeLeave:B,handleClose:S,onModalClick:O,onOpenAutoFocus:P,onCloseAutoFocus:U,onCloseRequested:V,onFocusoutPrevented:J}=G(o,p);$(W,{dialogRef:p,headerRef:g,bodyId:H,ns:d,rendered:M,style:E});const Y=K(O),X=a((()=>o.draggable&&!o.fullscreen));return s({visible:h,dialogContentRef:y}),(e,s)=>(l(),m(I,{to:"body",disabled:!e.appendToBody},[u(F,{name:"dialog-fade",onAfterEnter:c(L),onAfterLeave:c(T),onBeforeLeave:c(B),persisted:""},{default:f((()=>[_(u(c(q),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":c(D)},{default:f((()=>[n("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:c(j),"aria-describedby":c(H),class:i(`${c(d).namespace.value}-overlay-dialog`),style:v(c(z)),onClick:s[0]||(s[0]=(...e)=>c(Y).onClick&&c(Y).onClick(...e)),onMousedown:s[1]||(s[1]=(...e)=>c(Y).onMousedown&&c(Y).onMousedown(...e)),onMouseup:s[2]||(s[2]=(...e)=>c(Y).onMouseup&&c(Y).onMouseup(...e))},[u(c(N),{loop:"",trapped:c(h),"focus-start-el":"container",onFocusAfterTrapped:c(P),onFocusAfterReleased:c(U),onFocusoutPrevented:c(J),onReleaseRequested:c(V)},{default:f((()=>[c(M)?(l(),m(se,R({key:0,ref_key:"dialogContentRef",ref:y},e.$attrs,{"custom-class":e.customClass,center:e.center,"align-center":e.alignCenter,"close-icon":e.closeIcon,draggable:c(X),fullscreen:e.fullscreen,"show-close":e.showClose,title:e.title,onClose:c(S)}),A({header:f((()=>[e.$slots.title?r(e.$slots,"title",{key:1}):r(e.$slots,"header",{key:0,close:c(S),titleId:c(j),titleClass:c(d).e("title")})])),default:f((()=>[r(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:f((()=>[r(e.$slots,"footer")]))}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):b("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,oe)])),_:3},8,["mask","overlay-class","z-index"]),[[w,c(h)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]])),te={class:"flex justify-between"},ne=e({__name:"Dialog",props:{modelValue:H.bool.def(!1),title:H.string.def("Dialog"),fullscreen:H.bool.def(!0),maxHeight:H.oneOfType([String,Number]).def("500px")},setup(e){const s=e,o=C(),t=a((()=>{const e=["fullscreen","title","maxHeight"],o={...D(),...s};for(const s in o)-1!==e.indexOf(s)&&delete o[s];return o})),i=x(!1),p=()=>{i.value=!c(i)},g=x(E(s.maxHeight)?`${s.maxHeight}px`:s.maxHeight);z((()=>i.value),(async e=>{if(await B(),e){const e=document.documentElement.offsetHeight;g.value=e-55-60-(o.footer?63:0)+"px"}else g.value=E(s.maxHeight)?`${s.maxHeight}px`:s.maxHeight}),{immediate:!0});const y=a((()=>({height:c(g)})));return(s,a)=>{const g=M("Icon");return l(),m(c(le),R(c(t),{fullscreen:i.value,"destroy-on-close":"","lock-scroll":"",draggable:"","close-on-click-modal":!1}),A({header:f((()=>[n("div",te,[r(s.$slots,"title",{},(()=>[L(d(e.title),1)])),e.fullscreen?(l(),m(g,{key:0,class:"mr-18px cursor-pointer is-hover mt-2px z-10",icon:i.value?"zmdi:fullscreen-exit":"zmdi:fullscreen",color:"var(--el-color-info)",onClick:p},null,8,["icon"])):b("",!0)])])),default:f((()=>[u(c(T),{style:v(c(y))},{default:f((()=>[r(s.$slots,"default")])),_:3},8,["style"])])),_:2},[c(o).footer?{name:"footer",fn:f((()=>[r(s.$slots,"footer")])),key:"0"}:void 0]),1040,["fullscreen"])}}});export{ne as _};
