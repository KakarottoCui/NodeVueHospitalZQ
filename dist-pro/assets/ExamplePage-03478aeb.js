import{_ as e}from"./ContentWrap.vue_vue_type_script_setup_true_lang-9ec610e6.js";import{_ as t}from"./Search.vue_vue_type_script_setup_true_lang-100f3b06.js";import{d as a,u as o,q as s,P as l,r as i,o as r,h as m,w as p,a as n,k as d,g as u,e as c,K as g,t as _}from"./index-ab69a018.js";import{E as j}from"./el-button-5f0a8970.js";import{E as b}from"./el-tag-2eba6023.js";import{_ as f}from"./Table.vue_vue_type_script_lang-67d5a344.js";import{g as x,d as h}from"./index-ef9d0daf.js";import{u as v}from"./useTable-3f43543f.js";import{u as y}from"./useEmitt-e049d6e2.js";import{u as D}from"./useCrudSchemas-01b559ef.js";import"./el-card-a9d60764.js";import"./el-popper-2ba03ef0.js";import"./constants-136ce4ac.js";import"./Form-8ec9c562.js";import"./el-col-de71804c.js";import"./el-input-5d13ef5f.js";import"./event-5568c9d8.js";import"./use-form-item-da890dc1.js";import"./use-form-common-props-5bbac68f.js";import"./tsxHelper-56b0b5a4.js";import"./scroll-dfd4dc88.js";import"./debounce-9059d122.js";import"./validator-1449e5a2.js";import"./el-input-number-58ddfaed.js";import"./el-switch-c5d5e959.js";import"./el-divider-67b7467a.js";import"./InputPassword-684f4247.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./style.css_vue_type_style_index_0_src_true_lang-c579c63b.js";import"./aria-ecee1d93.js";import"./useForm-2bc0283e.js";import"./el-message-box-7b433714.js";import"./el-overlay-1d787c8f.js";import"./vnode-d7131a6b.js";import"./tree-b59d36bb.js";const w={class:"mb-10px"},S=a({name:"ExamplePage"}),C=a({...S,setup(a){const{push:S}=o(),{register:C,tableObject:k,methods:P}=v({getListApi:x,delListApi:h,response:{list:"list",total:"total"}}),{getList:L,setSearchParams:R}=P;L(),y({name:"getList",callback:e=>{"add"===e&&(k.currentPage=1),L()}});const{t:z}=d(),E=s([{field:"index",label:z("tableDemo.index"),type:"index"},{field:"title",label:z("tableDemo.title"),search:{show:!0}},{field:"author",label:z("tableDemo.author")},{field:"display_time",label:z("tableDemo.displayTime")},{field:"importance",label:z("tableDemo.importance"),formatter:(e,t,a)=>l(b,{type:1===a?"success":2===a?"warning":"danger"},(()=>z(1===a?"tableDemo.important":2===a?"tableDemo.good":"tableDemo.commonly")))},{field:"pageviews",label:z("tableDemo.pageviews")},{field:"content",label:z("exampleDemo.content"),table:{show:!1}},{field:"action",width:"260px",label:z("tableDemo.action")}]),{allSchemas:T}=D(E),F=()=>{S("/example/example-add")},U=i(!1),$=async(e,t)=>{var a;k.currentRow=e;const{delList:o,getSelections:s}=P,l=await s();U.value=!0,await o(t?l.map((e=>e.id)):[null==(a=k.currentRow)?void 0:a.id],t).finally((()=>{U.value=!1}))},q=(e,t)=>{S(`/example/example-${t}?id=${e.id}`)};return(a,o)=>(r(),m(n(e),null,{default:p((()=>[u(n(t),{schema:n(T).searchSchema,onSearch:n(R),onReset:n(R)},null,8,["schema","onSearch","onReset"]),c("div",w,[u(n(j),{type:"primary",onClick:F},{default:p((()=>[g(_(n(z)("exampleDemo.add")),1)])),_:1}),u(n(j),{loading:U.value,type:"danger",onClick:o[0]||(o[0]=e=>$(null,!0))},{default:p((()=>[g(_(n(z)("exampleDemo.del")),1)])),_:1},8,["loading"])]),u(n(f),{pageSize:n(k).pageSize,"onUpdate:pageSize":o[1]||(o[1]=e=>n(k).pageSize=e),currentPage:n(k).currentPage,"onUpdate:currentPage":o[2]||(o[2]=e=>n(k).currentPage=e),columns:n(T).tableColumns,data:n(k).tableList,loading:n(k).loading,pagination:{total:n(k).total},onRegister:n(C)},{action:p((({row:e})=>[u(n(j),{type:"primary",onClick:t=>q(e,"edit")},{default:p((()=>[g(_(n(z)("exampleDemo.edit")),1)])),_:2},1032,["onClick"]),u(n(j),{type:"success",onClick:t=>q(e,"detail")},{default:p((()=>[g(_(n(z)("exampleDemo.detail")),1)])),_:2},1032,["onClick"]),u(n(j),{type:"danger",onClick:t=>$(e,!1)},{default:p((()=>[g(_(n(z)("exampleDemo.del")),1)])),_:2},1032,["onClick"])])),_:1},8,["pageSize","currentPage","columns","data","loading","pagination","onRegister"])])),_:1}))}});export{C as default};
